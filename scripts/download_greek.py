#!/usr/bin/env python3
"""Download Greek texts from Tesserae using direct URLs."""
import os
import requests
import time

RAW_BASE = "https://raw.githubusercontent.com/tesserae/tesserae/master/texts/grc"

GREEK_TEXTS = [
    "achilles_tatius.leucippe_et_clitophon.tess",
    "aelian.de_natura_animalium.tess",
    "aelian.epistulae_rusticae.tess",
    "aelian.varia_historia.tess",
    "aelius_aristides.ars_rhetorica.tess",
    "aelius_aristides.orationes.tess",
    "aeschines.against_ctesiphon.tess",
    "aeschines.against_timarchus.tess",
    "aeschines.on_the_embassy.tess",
    "aeschylus.agamemnon.tess",
    "aeschylus.eumenides.tess",
    "aeschylus.persae.tess",
    "aeschylus.prometheus_bound.tess",
    "aeschylus.septem_contra_thebas.tess",
    "aeschylus.supplices.tess",
    "andocides.de_mysteriis.tess",
    "andocides.de_pace.tess",
    "andocides.de_reditu.tess",
    "andocides.in_alcibiades.tess",
    "antiphon.first_tetralogy.tess",
    "antiphon.on_the_choreutes.tess",
    "antiphon.on_the_murder_of_herodes.tess",
    "antiphon.prosecution_of_the_stepmother.tess",
    "antiphon.second_tetralogy.tess",
    "antiphon.third_tetralogy.tess",
    "apollodorus.bibliotheca.tess",
    "apollodorus.epitome.tess",
    "apollonius.argonautica.tess",
    "appian.bella_civilia.tess",
    "appian.celtica.tess",
    "appian.hispanica.tess",
    "appian.illyrica.tess",
    "appian.libyca.tess",
    "appian.macedonica.tess",
    "appian.mithridateios.tess",
    "appian.praefatio.tess",
    "appian.regia.tess",
    "appian.samnitium.tess",
    "appian.syriace.tess",
    "aratus.phaenomena.tess",
    "aristophanes.acharnians.tess",
    "aristophanes.birds.tess",
    "aristophanes.clouds.tess",
    "aristophanes.ecclesiazusae.tess",
    "aristophanes.frogs.tess",
    "aristophanes.knights.tess",
    "aristophanes.lysistrata.tess",
    "aristophanes.peace.tess",
    "aristophanes.plutus.tess",
    "aristophanes.thesmophoriazusae.tess",
    "aristophanes.wasps.tess",
    "aristotle.ars_rhetorica.tess",
    "aristotle.athenian_constitution.tess",
    "aristotle.categories.tess",
    "aristotle.de_anima.tess",
    "aristotle.de_interpretatione.tess",
    "aristotle.de_mundo.tess",
    "aristotle.de_poetica.tess",
    "aristotle.de_sophisticis_elenchis.tess",
    "aristotle.de_virtutibus_et_vitiis.tess",
    "aristotle.ethica_eudemia.tess",
    "aristotle.ethica_nicomachea.tess",
    "aristotle.eudemian_ethics.tess",
    "aristotle.historia_animalium.tess",
    "aristotle.magna_moralia.tess",
    "aristotle.metaphysics.tess",
    "aristotle.nicomachean_ethics.tess",
    "aristotle.oeconomica.tess",
    "aristotle.physics.tess",
    "aristotle.poetics.tess",
    "aristotle.politics.tess",
    "aristotle.posterior_analytics.tess",
    "aristotle.prior_analytics.tess",
    "aristotle.rhetoric.tess",
    "aristotle.topica.tess",
    "athenaeus.deipnosophistae.tess",
    "bacchylides.dithyrambs.tess",
    "bacchylides.epinicians.tess",
    "callimachus.aitia.tess",
    "callimachus.epigrammata.tess",
    "callimachus.hecale.tess",
    "callimachus.hymns.tess",
    "callimachus.iambi.tess",
    "colluthus.rape_of_helen.tess",
    "demades.on_the_twelve_years.tess",
    "demetrius.de_elocutione.tess",
    "demosthenes.against_apatourius.tess",
    "demosthenes.against_aphobus_1.tess",
    "demosthenes.against_aphobus_2.tess",
    "demosthenes.against_aristocrates.tess",
    "demosthenes.against_aristogiton_1.tess",
    "demosthenes.against_aristogiton_2.tess",
    "demosthenes.against_boeotus_1.tess",
    "demosthenes.against_boeotus_2.tess",
    "demosthenes.against_callicles.tess",
    "demosthenes.against_callippus.tess",
    "demosthenes.against_conon.tess",
    "demosthenes.against_dionysodorus.tess",
    "demosthenes.against_eubulides.tess",
    "demosthenes.against_euergus_and_mnesibulus.tess",
    "demosthenes.against_evergus_and_mnesibulus.tess",
    "demosthenes.against_lacritus.tess",
    "demosthenes.against_leochares.tess",
    "demosthenes.against_leptines.tess",
    "demosthenes.against_macartatus.tess",
    "demosthenes.against_meidias.tess",
    "demosthenes.against_nausimachus.tess",
    "demosthenes.against_neaera.tess",
    "demosthenes.against_nicostratus.tess",
    "demosthenes.against_olympiodorus.tess",
    "demosthenes.against_onetor_1.tess",
    "demosthenes.against_onetor_2.tess",
    "demosthenes.against_pantaenetus.tess",
    "demosthenes.against_phaenippus.tess",
    "demosthenes.against_phormio.tess",
    "demosthenes.against_polycles.tess",
    "demosthenes.against_spudias.tess",
    "demosthenes.against_stephanus_1.tess",
    "demosthenes.against_stephanus_2.tess",
    "demosthenes.against_theocrines.tess",
    "demosthenes.against_timocrates.tess",
    "demosthenes.against_timotheus.tess",
    "demosthenes.against_zenothemis.tess",
    "demosthenes.de_corona.tess",
    "demosthenes.de_falsa_legatione.tess",
    "demosthenes.erotic_essay.tess",
    "demosthenes.exordia.tess",
    "demosthenes.for_phormio.tess",
    "demosthenes.funeral_speech.tess",
    "demosthenes.letters.tess",
    "demosthenes.olynthiac_1.tess",
    "demosthenes.olynthiac_2.tess",
    "demosthenes.olynthiac_3.tess",
    "demosthenes.on_halonnesus.tess",
    "demosthenes.on_organization.tess",
    "demosthenes.on_the_accession_of_alexander.tess",
    "demosthenes.on_the_chersonese.tess",
    "demosthenes.on_the_liberty_of_the_rhodians.tess",
    "demosthenes.on_the_navy.tess",
    "demosthenes.on_the_peace.tess",
    "demosthenes.on_the_treaty_with_alexander.tess",
    "demosthenes.on_the_trierarchic_crown.tess",
    "demosthenes.philippic_1.tess",
    "demosthenes.philippic_2.tess",
    "demosthenes.philippic_3.tess",
    "demosthenes.philippic_4.tess",
    "demosthenes.reply_to_philips_letter.tess",
    "dinarchus.against_aristogiton.tess",
    "dinarchus.against_demosthenes.tess",
    "dinarchus.against_philocles.tess",
    "dio_chrysostom.orationes.tess",
    "diodorus_siculus.bibliotheca_historica.tess",
    "diogenes_laertius.lives_of_eminent_philosophers.tess",
    "dionysius_of_halicarnassus.antiquitates_romanae.tess",
    "epictetus.discourses.tess",
    "epictetus.enchiridion.tess",
    "euclid.elements.tess",
    "euripides.alcestis.tess",
    "euripides.andromache.tess",
    "euripides.bacchae.tess",
    "euripides.cyclops.tess",
    "euripides.electra.tess",
    "euripides.hecuba.tess",
    "euripides.helen.tess",
    "euripides.heraclidae.tess",
    "euripides.heracles.tess",
    "euripides.hippolytus.tess",
    "euripides.ion.tess",
    "euripides.iphigenia_in_aulis.tess",
    "euripides.iphigenia_in_tauris.tess",
    "euripides.medea.tess",
    "euripides.orestes.tess",
    "euripides.phoenissae.tess",
    "euripides.rhesus.tess",
    "euripides.supplices.tess",
    "euripides.troades.tess",
    "herodotus.histories.tess",
    "hesiod.shield_of_heracles.tess",
    "hesiod.theogony.tess",
    "hesiod.works_and_days.tess",
    "hippocrates.aphorismi.tess",
    "hippocrates.de_aere_aquis_locis.tess",
    "hippocrates.de_prisca_medicina.tess",
    "hippocrates.jusjurandum.tess",
    "hippocrates.prognosticon.tess",
    "homer.iliad.tess",
    "homer.odyssey.tess",
    "homeric_hymns.hymn_to_aphrodite.tess",
    "homeric_hymns.hymn_to_apollo.tess",
    "homeric_hymns.hymn_to_demeter.tess",
    "homeric_hymns.hymn_to_hermes.tess",
    "homeric_hymns.minor_hymns.tess",
    "hyperides.against_athenogenes.tess",
    "hyperides.against_demosthenes.tess",
    "hyperides.against_philippides.tess",
    "hyperides.epitaphios.tess",
    "hyperides.for_euxenippus.tess",
    "hyperides.for_lycophron.tess",
    "isaeus.apollodorus.tess",
    "isaeus.aristarchus.tess",
    "isaeus.astyphilus.tess",
    "isaeus.ciron.tess",
    "isaeus.cleonymus.tess",
    "isaeus.dicaeogenes.tess",
    "isaeus.euphiletus.tess",
    "isaeus.hagnias.tess",
    "isaeus.menecles.tess",
    "isaeus.nicostratus.tess",
    "isaeus.philoctemon.tess",
    "isaeus.pyrrhus.tess",
    "isocrates.ad_demonicum.tess",
    "isocrates.ad_nicoclem.tess",
    "isocrates.aegineticus.tess",
    "isocrates.against_callimachus.tess",
    "isocrates.against_euthynus.tess",
    "isocrates.against_lochites.tess",
    "isocrates.antidosis.tess",
    "isocrates.archidamus.tess",
    "isocrates.areopagiticus.tess",
    "isocrates.busiris.tess",
    "isocrates.de_bigis.tess",
    "isocrates.de_pace.tess",
    "isocrates.encomium_of_helen.tess",
    "isocrates.evagoras.tess",
    "isocrates.letters.tess",
    "isocrates.nicocles.tess",
    "isocrates.panathenaicus.tess",
    "isocrates.panegyricus.tess",
    "isocrates.philippus.tess",
    "isocrates.plataicus.tess",
    "isocrates.trapeziticus.tess",
    "josephus.antiquitates_judaicae.tess",
    "josephus.bellum_judaicum.tess",
    "josephus.contra_apionem.tess",
    "josephus.de_vita_sua.tess",
    "longinus.de_sublimitate.tess",
    "longus.daphnis_and_chloe.tess",
    "lucian.abdicatus.tess",
    "lucian.alexander.tess",
    "lucian.anacharsis.tess",
    "lucian.apologia.tess",
    "lucian.bis_accusatus.tess",
    "lucian.calumniae_non_temere_credendum.tess",
    "lucian.cataplus.tess",
    "lucian.charon.tess",
    "lucian.de_astrologia.tess",
    "lucian.de_dea_syria.tess",
    "lucian.de_domo.tess",
    "lucian.de_electro.tess",
    "lucian.de_luctu.tess",
    "lucian.de_mercede_conductis.tess",
    "lucian.de_morte_peregrini.tess",
    "lucian.de_musca.tess",
    "lucian.de_parasito.tess",
    "lucian.de_sacrificiis.tess",
    "lucian.de_saltatione.tess",
    "lucian.de_somnio.tess",
    "lucian.demonax.tess",
    "lucian.deorum_concilium.tess",
    "lucian.deorum_dialogi.tess",
    "lucian.dialogi_marini.tess",
    "lucian.dialogi_meretricii.tess",
    "lucian.dialogi_mortuorum.tess",
    "lucian.dipsades.tess",
    "lucian.fugitivi.tess",
    "lucian.gallus.tess",
    "lucian.harmonides.tess",
    "lucian.hercules.tess",
    "lucian.hermotimus.tess",
    "lucian.herodotus.tess",
    "lucian.hesiodi_scutum.tess",
    "lucian.hippias.tess",
    "lucian.icaromenippus.tess",
    "lucian.imagines.tess",
    "lucian.juppiter_confutatus.tess",
    "lucian.juppiter_tragoedus.tess",
    "lucian.lexiphanes.tess",
    "lucian.macrobii.tess",
    "lucian.menippus.tess",
    "lucian.muscae_encomium.tess",
    "lucian.navigium.tess",
    "lucian.necyomantia.tess",
    "lucian.nigrinus.tess",
    "lucian.phalaris_1.tess",
    "lucian.phalaris_2.tess",
    "lucian.philopseudes.tess",
    "lucian.piscator.tess",
    "lucian.pro_imaginibus.tess",
    "lucian.pro_lapsu.tess",
    "lucian.prometheus.tess",
    "lucian.prometheus_es.tess",
    "lucian.pseudologista.tess",
    "lucian.quomodo_historia.tess",
    "lucian.rhetorum_praeceptor.tess",
    "lucian.saturnalia.tess",
    "lucian.scytha.tess",
    "lucian.soloecista.tess",
    "lucian.symposium.tess",
    "lucian.timon.tess",
    "lucian.toxaris.tess",
    "lucian.tyrannicida.tess",
    "lucian.vera_historia.tess",
    "lucian.vitarum_auctio.tess",
    "lucian.zeuxis.tess",
    "lycurgus.against_leocrates.tess",
    "lysias.accusation_of_calumny.tess",
    "lysias.against_agoratus.tess",
    "lysias.against_alcibiades_1.tess",
    "lysias.against_alcibiades_2.tess",
    "lysias.against_andocides.tess",
    "lysias.against_diogeiton.tess",
    "lysias.against_eratosthenes.tess",
    "lysias.against_ergocles.tess",
    "lysias.against_evander.tess",
    "lysias.against_nicomachus.tess",
    "lysias.against_philocrates.tess",
    "lysias.against_philon.tess",
    "lysias.against_the_corn_dealers.tess",
    "lysias.against_the_subversion.tess",
    "lysias.against_theomnestus_1.tess",
    "lysias.against_theomnestus_2.tess",
    "lysias.areopagiticus.tess",
    "lysias.defense_against_a_charge_of_taking_bribes.tess",
    "lysias.defense_against_simon.tess",
    "lysias.for_callias.tess",
    "lysias.for_mantitheus.tess",
    "lysias.for_polystratus.tess",
    "lysias.for_the_soldier.tess",
    "lysias.funeral_oration.tess",
    "lysias.olympic_oration.tess",
    "lysias.on_a_charge_of_evasion.tess",
    "lysias.on_the_confiscation.tess",
    "lysias.on_the_murder_of_eratosthenes.tess",
    "lysias.on_the_olive_stump.tess",
    "lysias.on_the_property_of_aristophanes.tess",
    "lysias.on_the_property_of_eraton.tess",
    "lysias.on_the_property_of_the_brother_of_nicias.tess",
    "lysias.on_the_refusal_of_a_pension.tess",
    "marcus_aurelius.meditations.tess",
    "menander.dyskolos.tess",
    "menander.epitrepontes.tess",
    "menander.perikeiromene.tess",
    "menander.samia.tess",
    "moschus.bion.tess",
    "moschus.europa.tess",
    "moschus.megara.tess",
    "musaeus.hero_and_leander.tess",
    "new_testament.acts.tess",
    "new_testament.apocalypse.tess",
    "new_testament.colossians.tess",
    "new_testament.corinthians_1.tess",
    "new_testament.corinthians_2.tess",
    "new_testament.ephesians.tess",
    "new_testament.galatians.tess",
    "new_testament.hebrews.tess",
    "new_testament.james.tess",
    "new_testament.john.tess",
    "new_testament.john_1.tess",
    "new_testament.john_2.tess",
    "new_testament.john_3.tess",
    "new_testament.jude.tess",
    "new_testament.luke.tess",
    "new_testament.mark.tess",
    "new_testament.matthew.tess",
    "new_testament.peter_1.tess",
    "new_testament.peter_2.tess",
    "new_testament.philemon.tess",
    "new_testament.philippians.tess",
    "new_testament.romans.tess",
    "new_testament.thessalonians_1.tess",
    "new_testament.thessalonians_2.tess",
    "new_testament.timothy_1.tess",
    "new_testament.timothy_2.tess",
    "new_testament.titus.tess",
    "nonnus.dionysiaca.tess",
    "old_testament.genesis.tess",
    "oppian.cynegetica.tess",
    "oppian.halieutica.tess",
    "parthenius.love_romances.tess",
    "pausanias.description_of_greece.tess",
    "philostratus.heroicus.tess",
    "philostratus.imagines.tess",
    "philostratus.life_of_apollonius.tess",
    "philostratus.lives_of_the_sophists.tess",
    "philostratus_the_younger.imagines.tess",
    "pindar.isthmean.tess",
    "pindar.nemean.tess",
    "pindar.olympian.tess",
    "pindar.pythian.tess",
    "plato.alcibiades_1.tess",
    "plato.alcibiades_2.tess",
    "plato.apologia.tess",
    "plato.charmides.tess",
    "plato.cleitophon.tess",
    "plato.cratylus.tess",
    "plato.critias.tess",
    "plato.crito.tess",
    "plato.epinomis.tess",
    "plato.epistles.tess",
    "plato.eryxias.tess",
    "plato.euthydemus.tess",
    "plato.euthyphro.tess",
    "plato.gorgias.tess",
    "plato.hipparchus.tess",
    "plato.hippias_major.tess",
    "plato.hippias_minor.tess",
    "plato.ion.tess",
    "plato.laches.tess",
    "plato.laws.tess",
    "plato.lysis.tess",
    "plato.menexenus.tess",
    "plato.meno.tess",
    "plato.minos.tess",
    "plato.parmenides.tess",
    "plato.phaedo.tess",
    "plato.phaedrus.tess",
    "plato.philebus.tess",
    "plato.protagoras.tess",
    "plato.republic.tess",
    "plato.sophist.tess",
    "plato.statesman.tess",
    "plato.symposium.tess",
    "plato.theaetetus.tess",
    "plato.theages.tess",
    "plato.timaeus.tess",
    "plutarch.aemilius_paulus.tess",
    "plutarch.agesilaus.tess",
    "plutarch.agis.tess",
    "plutarch.alcibiades.tess",
    "plutarch.alexander.tess",
    "plutarch.antony.tess",
    "plutarch.aratus.tess",
    "plutarch.aristides.tess",
    "plutarch.artaxerxes.tess",
    "plutarch.brutus.tess",
    "plutarch.caesar.tess",
    "plutarch.camillus.tess",
    "plutarch.cato_major.tess",
    "plutarch.cato_minor.tess",
    "plutarch.cicero.tess",
    "plutarch.cimon.tess",
    "plutarch.cleomenes.tess",
    "plutarch.comparison_of_agesilaus_and_pompey.tess",
    "plutarch.comparison_of_agis_and_cleomenes_and_the_gracchi.tess",
    "plutarch.comparison_of_alcibiades_and_coriolanus.tess",
    "plutarch.comparison_of_aristides_and_cato.tess",
    "plutarch.comparison_of_demetrius_and_antony.tess",
    "plutarch.comparison_of_demosthenes_and_cicero.tess",
    "plutarch.comparison_of_dion_and_brutus.tess",
    "plutarch.comparison_of_lucullus_and_cimon.tess",
    "plutarch.comparison_of_lycurgus_and_numa.tess",
    "plutarch.comparison_of_lysander_and_sulla.tess",
    "plutarch.comparison_of_nicias_and_crassus.tess",
    "plutarch.comparison_of_pelopidas_and_marcellus.tess",
    "plutarch.comparison_of_pericles_and_fabius.tess",
    "plutarch.comparison_of_philopoemen_and_flamininus.tess",
    "plutarch.comparison_of_sertorius_and_eumenes.tess",
    "plutarch.comparison_of_solon_and_publicola.tess",
    "plutarch.comparison_of_theseus_and_romulus.tess",
    "plutarch.comparison_of_timoleon_and_aemilius.tess",
    "plutarch.coriolanus.tess",
    "plutarch.crassus.tess",
    "plutarch.demetrius.tess",
    "plutarch.demosthenes.tess",
    "plutarch.dion.tess",
    "plutarch.eumenes.tess",
    "plutarch.fabius_maximus.tess",
    "plutarch.flamininus.tess",
    "plutarch.galba.tess",
    "plutarch.gracchi.tess",
    "plutarch.lucullus.tess",
    "plutarch.lycurgus.tess",
    "plutarch.lysander.tess",
    "plutarch.marcellus.tess",
    "plutarch.marius.tess",
    "plutarch.moralia.tess",
    "plutarch.nicias.tess",
    "plutarch.numa.tess",
    "plutarch.otho.tess",
    "plutarch.pelopidas.tess",
    "plutarch.pericles.tess",
    "plutarch.philopoemen.tess",
    "plutarch.phocion.tess",
    "plutarch.pompey.tess",
    "plutarch.poplicola.tess",
    "plutarch.pyrrhus.tess",
    "plutarch.romulus.tess",
    "plutarch.sertorius.tess",
    "plutarch.solon.tess",
    "plutarch.sulla.tess",
    "plutarch.themistocles.tess",
    "plutarch.theseus.tess",
    "plutarch.timoleon.tess",
    "polybius.histories.tess",
    "porphyry.de_abstinentia.tess",
    "porphyry.vita_plotini.tess",
    "porphyry.vita_pythagorae.tess",
    "quintus_smyrnaeus.posthomerica.tess",
    "septuagint.daniel.tess",
    "septuagint.deuteronomy.tess",
    "septuagint.exodus.tess",
    "septuagint.genesis.tess",
    "septuagint.isaiah.tess",
    "septuagint.job.tess",
    "septuagint.leviticus.tess",
    "septuagint.numbers.tess",
    "septuagint.proverbs.tess",
    "septuagint.psalms.tess",
    "sophocles.ajax.tess",
    "sophocles.antigone.tess",
    "sophocles.electra.tess",
    "sophocles.oedipus_at_colonus.tess",
    "sophocles.oedipus_tyrannus.tess",
    "sophocles.philoctetes.tess",
    "sophocles.trachiniae.tess",
    "strabo.geography.tess",
    "theocritus.epigrams.tess",
    "theocritus.idylls.tess",
    "theophrastus.characters.tess",
    "thucydides.histories.tess",
    "tryphiodorus.capture_of_troy.tess",
    "xenophon.agesilaus.tess",
    "xenophon.anabasis.tess",
    "xenophon.apology.tess",
    "xenophon.constitution_of_the_lacedaemonians.tess",
    "xenophon.cynegeticus.tess",
    "xenophon.cyropaedia.tess",
    "xenophon.de_re_equestri.tess",
    "xenophon.de_vectigalibus.tess",
    "xenophon.hellenica.tess",
    "xenophon.hiero.tess",
    "xenophon.hipparchicus.tess",
    "xenophon.memorabilia.tess",
    "xenophon.oeconomicus.tess",
    "xenophon.symposium.tess",
]

def download_file(url, local_path):
    """Download a file from URL to local path."""
    try:
        response = requests.get(url, timeout=30)
        if response.status_code == 200:
            os.makedirs(os.path.dirname(local_path), exist_ok=True)
            with open(local_path, 'w', encoding='utf-8') as f:
                f.write(response.text)
            return True
    except Exception as e:
        print(f"Error downloading {url}: {e}")
    return False

def main():
    texts_dir = os.path.join(os.path.dirname(os.path.dirname(__file__)), 'texts', 'grc')
    os.makedirs(texts_dir, exist_ok=True)
    
    downloaded = 0
    skipped = 0
    failed = 0
    
    print(f"Downloading {len(GREEK_TEXTS)} Greek texts...")
    
    for i, filename in enumerate(GREEK_TEXTS):
        local_path = os.path.join(texts_dir, filename)
        
        if os.path.exists(local_path):
            skipped += 1
            continue
        
        url = f"{RAW_BASE}/{filename}"
        print(f"  [{i+1}/{len(GREEK_TEXTS)}] Downloading {filename}...")
        
        if download_file(url, local_path):
            downloaded += 1
        else:
            failed += 1
        
        import time
        time.sleep(0.05)
    
    print(f"\n=== Complete ===")
    print(f"Downloaded: {downloaded}")
    print(f"Skipped (existing): {skipped}")
    print(f"Failed: {failed}")
    print(f"Total Greek texts now: {len(os.listdir(texts_dir))}")

if __name__ == "__main__":
    main()
